{"version":3,"sources":["utility/clientinfo.ts","utility/inertialnumber.ts","models/Transformation.ts","utility/uuid.ts","models/AnimationCurve.ts","models/Transform.ts","utility/animator/Animator.ts","utility/global.ts","components/logo/Logo.tsx","components/parallaxpage/ParallaxPage.tsx","components/spacer/Spacer.tsx","components/button/Button.tsx","components/socialmediabutton/SocialMediaButton.tsx","components/downarrow/DownArrow.tsx","components/link/Link.tsx","components/header/Header.tsx","components/text/Text.tsx","components/player/Player.tsx","components/youtubeplayer/YoutubePlayer.tsx","components/fillcontainer/FillContainer.tsx","components/stickybar/StickyBar.tsx","scenes/home/HomeScene.tsx","components/pager/Pager.tsx","scenes/about/AboutScene.tsx","scenes/experience/ExperienceScene.tsx","scenes/people/PeopleScene.tsx","scenes/passion/PassionScene.tsx","scenes/contact/ContactScene.tsx","App.tsx","scenes/trailer/TrailerScene.tsx","index.tsx"],"names":["ResolutionClass","ClientInfo","pixelCount","window","innerHeight","innerWidth","high","medium","low","isSafari","navigator","vendor","indexOf","userAgent","isMobile","test","isIphone","isIpad","isAndroid","TransformationType","InertialNumber","props","current","target","acceleration","inertia","velocity","onUpdate","timeout","disableWhenSettledAtTarget","isAutoUpdating","this","to","from","keepVelocity","selfUpdate","setAutoUpdates","deltaTime","isSettled","auto","intervalMs","context","undefined","clearInterval","setInterval","update","delta","Math","abs","toFixed","UUIDGenerator","lut","value","i","toString","count","AnimationCurveType","Translation","x","y","type","translation","Scale","scale","amount","Rotation","rotation","Opacity","opacity","Blur","blur","Transform","transformations","by","push","Models","xy","result","forEach","transformation","console","assert","AnimationCurve","formula","at","linear","ease","sin","PI","easeIn","cos","easeOut","custom","log","args","w","Utility","optional","damping","fallback","pow","E","Animator","element","animation","startProperties","endProperties","previousUpdate","startTime","properties","Model","identity","Date","now","delay","renderState","setTimeout","renderNextFrame","bind","progress","duration","requestAnimationFrame","completion","renderOpacity","renderTransform","renderFilter","interpolate","style","filter","getScale","getRotation","getTranslation","translations","transform","join","start","end","curve","exists","object","isVoid","unwrap","VisibilityLevel","Logo","title","React","createRef","subtitle","className","ref","fallbackIfNull","animate","rotated","blurred","scaled","translated","spring","Component","Spacer","height","size","width","ParallaxPage","page","backgroundContainer","backgroundEntryContainer","backgroundImage","dim","content","player","backgroundBlurRadius","contentBlurRadius","contentOpacity","dimOpacity","focalArea","backgroundBlurIntensity","contentBlurIntensity","focalTransitionSize","focalDim","doParallax","parallaxIntensity","parallaxOffset","visibilityLevel","notVisible","focusUpdateIntervalMs","videoEndAnimation","enableSlowMode","consecutiveModeSwitchUpdates","backgroundColor","loadingColor","aria-hidden","video","loopVideo","autoplay","onEnded","onVideoEnded","xOffset","backgroundXOffset","children","offsetParent","addEventListener","checkIfOnScreen","updateFocus","updateParallax","loadBackgroundImage","image","cancel","container","isInViewport","handleVisibilityLevel","barely","singlePixel","previousVisibilityLevel","stop","onVideoWillRewind","rewind","play","url","imageUrl","preloaderImg","document","createElement","src","event","rect","getBoundingClientRect","parentAspect","imageAspect","naturalWidth","naturalHeight","overshoot","animateEntry","onDidLoadBackground","clamped","min","max","offset","getOffsetInViewPort","updateParallaxOffset","adjustPerformance","absOffset","updateContentOpacity","updateDimValue","updateContentBlurRadius","updateBackgroundBlurRadius","blurContent","background","blurBackground","dimValue","parseFloat","targetOffset","sizeMultiplier","range","date","updateRate","actualToDesiredRatio","switchSlowMode","Button","div","justifyContent","onClick","didTapCallToAction","action","open","center","SocialMediaButton","button","img","alt","iconAlt","icon","DownArrow","didTap","cursor","Link","href","rel","text","Header","Text","Player","muted","loop","autoPlay","playsInline","onPlay","updatePlayerSize","videoElement","currentTime","then","response","pause","videoSize","videoWidth","videoHeight","playerAspect","YoutubePlayer","id","uuid","aspectRatio","containerId","name","playerId","watchId","allow","determinePlayerSize","getElementById","windowAspect","setState","FillContainer","StickyBar","Children","toArray","map","e","HomeScene","blurLogo","logo","fbButton","didLoadBackground","prepareForAnimation","animateIn","stickyBar","AboutScene","ExperienceScene","PeopleScene","PassionScene","ContactScene","App","downArrow","debounceTimeout","onDidLoadHome","setupSafariResizeFix","setupDownArrowAlphaUpdates","alpha","scrollY","location","reload","onresize","debounce","refreshPage","func","clearTimeout","apply","arguments","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.e5537563.chunk.js","sourcesContent":["enum ResolutionClass {\n    high,\n    medium,\n    low\n}\n\nclass ClientInfo {\n    static isSafari = navigator.vendor && navigator.vendor.indexOf('Apple') > -1 &&\n               navigator.userAgent &&\n               navigator.userAgent.indexOf('CriOS') === -1 &&\n               navigator.userAgent.indexOf('FxiOS') === -1;\n    static isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n    static isIphone = /iPhone|iPod/i.test(navigator.userAgent);\n    static isIpad = /iPad/i.test(navigator.userAgent);\n    static isAndroid = /iPad/i.test(navigator.userAgent);\n\n    static get resolutionClass(): ResolutionClass {\n        const pixelCount = window.innerHeight * window.innerWidth\n        if (pixelCount >= 1920 * 1080) {\n            return ResolutionClass.high;\n        } else if (pixelCount >= 1280 * 720) {\n            return ResolutionClass.medium;\n        } else {\n            return ResolutionClass.low;\n        }\n    }\n}\n\nexport { \n    ClientInfo, ResolutionClass\n}","export class InertialNumber {\n  \n    public current: number = 0;\n    public target: number = 0;\n    public acceleration: number;\n    public inertia: number;\n    public velocity: number = 0;\n    public onUpdate?: (value: number) => void;\n    \n    private timeout?: NodeJS.Timeout;\n    private disableWhenSettledAtTarget: boolean = false;\n    private isAutoUpdating: boolean = false;\n\n    constructor(props?: { acceleration?: number, inertia?: number }) {\n        this.acceleration = props?.acceleration || 1\n        this.inertia = props?.inertia || 0.85\n    }\n\n    moveTo(props: { to: number, from: number, keepVelocity?: boolean, disableWhenSettledAtTarget?: boolean, selfUpdate?: boolean }) {\n        this.target = props.to;\n        this.current = props.from;\n        if (props.keepVelocity !== false ) { this.velocity = 0; }\n        this.disableWhenSettledAtTarget = (props.disableWhenSettledAtTarget !== false);\n        if (props.selfUpdate !== false) { this.setAutoUpdates(true); }\n    }\n\n    update(deltaTime: number) {\n        const delta = this.target - this.current;\n        const preferredVelocity = delta * 10;\n        const deltaVelocity = preferredVelocity - this.velocity;\n        const acceleration = deltaVelocity * 10 * this.acceleration;\n        this.velocity += acceleration * deltaTime\n        this.current += this.velocity * deltaTime\n        if (this.onUpdate) { this.onUpdate(this.current); }\n        this.velocity *= this.inertia;\n        if (this.disableWhenSettledAtTarget && this.isSettled()) { \n            this.setAutoUpdates(false);\n        }\n    }\n\n    setAutoUpdates(auto: boolean) {\n        this.isAutoUpdating = auto\n        if (auto) {\n            var intervalMs = 1000 / 60;\n            const context = this;\n            if (this.timeout !== undefined) { clearInterval(this.timeout); }\n            context.timeout = setInterval(function() { \n                context.update(intervalMs / 1000)\n            }, intervalMs);\n        } else {\n            if (this.timeout === undefined) { return; }\n            clearInterval(this.timeout);\n        }\n    }\n\n    public getIsAutoUpdating(): boolean {\n        return this.isAutoUpdating\n    }\n\n    stop() {\n        this.setAutoUpdates(false);\n        this.disableWhenSettledAtTarget = false\n        this.velocity = 0;\n    }\n\n    public isSettled(): boolean {\n        const delta = Math.abs(this.current - this.target).toFixed(0);\n        const velocity = Math.abs(this.velocity).toFixed(0);\n        return delta === '0' && velocity === '0';\n    }\n}\n\nexport default InertialNumber","export enum TransformationType {\n    translation,\n    opacity,\n    scale,\n    rotation,\n    blur\n}\n\nexport interface Transformation<Value> {\n    type: TransformationType\n    value: Value\n }\n\nexport class Translation implements Transformation<{x: number, y: number}> {\n\n    type: TransformationType = TransformationType.translation;\n    get value() { return { x: this.x, y: this.y } }\n\n    x: number\n    y: number\n\n    constructor(x: number, y: number) {\n        this.x = x;\n        this.y = y;\n    }\n\n    static x(value: number): Translation {\n        return new Translation(value, 0);\n    }\n\n    static y(value: number): Translation {\n        return new Translation(0, value);\n    }\n\n    static xy(x: number, y: number): Translation {\n        return new Translation(x, y);\n    }\n}\n\nexport class Scale implements Transformation<number> {\n\n    type: TransformationType = TransformationType.scale;\n\n    value: number;\n\n    constructor(value: number) {\n        this.value = value;\n    }\n\n    static amount(amount: number): Scale {\n        return new Scale(amount);\n    }\n}\n\nexport class Rotation implements Transformation<number> {\n\n    type: TransformationType = TransformationType.rotation;\n\n    value: number;\n\n    constructor(value: number) {\n        this.value = value\n    }\n\n    static amount(value: number): Rotation {\n        return new Rotation(value);\n    }\n}\n\nexport class Opacity implements Transformation<number> {\n\n    type: TransformationType = TransformationType.opacity;\n\n    value: number;\n\n    constructor(value: number) {\n        this.value = value\n    }\n\n    static amount(value: number): Opacity {\n        return new Opacity(value);\n    }\n}\n\nexport class Blur implements Transformation<number> {\n\n    type: TransformationType = TransformationType.blur;\n\n    value: number;\n\n    constructor(value: number) {\n        this.value = value\n    }\n\n    static amount(value: number): Blur {\n        return new Blur(value);\n    }\n}","export class UUIDGenerator {\n\n    private lut: string[] = function() {\n        let value: string[] = [];\n        for (var i=0; i<256; i++ ) { \n            value[i] = (i<16?'0':'') + (i).toString(16); \n        }\n        return value\n    }();\n\n    private static count: number = 0;\n    \n    static get uuid(): string {\n        UUIDGenerator.count += 1;\n        return UUIDGenerator.count.toFixed(0);\n    }\n}","import * as Utility from '../utility/module';\n\nenum AnimationCurveType {\n    linear,\n    ease,\n    easeOut,\n    easeIn,\n    custom\n}\n\ntype Formula = (at: number) => number\n\nexport class AnimationCurve {\n    \n    private type: AnimationCurveType;\n    private formula?: Formula;\n\n    private constructor(type: AnimationCurveType, formula?: Formula) {\n        this.type = type;\n        this.formula = formula;\n    }\n\n    static get linear(): AnimationCurve {\n        return new AnimationCurve(AnimationCurveType.linear);\n    }\n\n    static get ease(): AnimationCurve {\n        return new AnimationCurve(AnimationCurveType.ease);\n    }\n\n    static get easeOut(): AnimationCurve {\n        return new AnimationCurve(AnimationCurveType.easeOut);\n    }\n\n    static spring(args?: { damping: number }): AnimationCurve {\n        return new AnimationCurve(AnimationCurveType.custom, function(x: number) { \n            const a = 0.15;\n            const w = (1 - Utility.unwrap({ optional: args?.damping, fallback: 0.8 })) * 20;\n            return -(Math.pow(Math.E, (-x / a)) * Math.cos(x * w)) + 1;\n        });\n    }\n\n    static custom(formula: Formula): AnimationCurve {\n        return new AnimationCurve(AnimationCurveType.custom, formula)\n    }\n\n    public value(at: number): number {\n        switch (this.type) {\n            case AnimationCurveType.linear:\n                return at;\n            case AnimationCurveType.ease:\n                return Math.sin((at * Math.PI) - Math.PI * 0.5) * 0.5 + 0.5;\n            case AnimationCurveType.easeIn:\n                return -Math.cos(at * Math.PI * 0.5) + 1\n            case AnimationCurveType.easeOut:\n                return Math.sin((at * Math.PI * 0.5));\n            case AnimationCurveType.custom:\n                console.assert(this.formula, 'formula should be set when AnimationCurveType is .custom')\n                if (this.formula === undefined || this.formula === null) { return at; }\n                return this.formula(at);\n            default:\n                console.log(`AnimationCurveType ${this.type} not implemented`);\n                return at;\n        }\n    }\n}\n\nexport default AnimationCurve","import * as Models from './module';\nimport { TransformationType } from './Transformation';\n\nexport class Transform {\n    public transformations: Models.Transformation<any>[] = []\n\n    public static get identity() {\n        return new Transform();\n    }\n\n    public translated(by: { x?: number, y?: number }): Transform {\n        this.transformations.push(Models.Translation.xy(by.x || 0, by.y || 0));\n        return this;\n    }\n\n    public scaled(by: { amount: number }): Transform {\n        this.transformations.push(Models.Scale.amount(by.amount));\n        return this;\n    }\n\n    public rotated(by: { amount: number }): Transform {\n        this.transformations.push(Models.Rotation.amount(by.amount));\n        return this;\n    }\n\n    public opacity(by: { amount: number }): Transform {\n        this.transformations.push(Models.Opacity.amount(by.amount));\n        return this;\n    }\n\n    public blurred(by: { amount: number }): Transform {\n        this.transformations.push(Models.Blur.amount(by.amount));\n        return this;\n    }\n\n    public get properties(): Models.TransformProperties {\n        var result: Models.TransformProperties = { };\n        this.transformations.forEach(transformation => {\n            switch (transformation.type) {\n                case TransformationType.translation:\n                    result.translation = transformation.value; break;\n                case TransformationType.rotation:\n                    result.rotation = transformation.value; break;\n                case TransformationType.opacity:\n                    result.opacity = transformation.value; break;\n                case TransformationType.scale:\n                    result.scale = transformation.value; break;\n                case TransformationType.blur:\n                    result.blur = transformation.value; break;\n                default:\n                    console.assert(false, `handling ${transformation.type} was not implemented`); break;\n            }\n        })\n        return result;\n    }\n}\n\nexport default Transform","import * as Model from '../../models/module';\nimport * as Utility from '../../utility/module';\n\nexport class Animator {\n\n    public static animate(element: HTMLElement | null | undefined, animation: Model.Animation): Animator | null {\n        if (element === null || element === undefined) { return null; }\n        return new Animator(element, animation);\n    }\n\n    private constructor(element: HTMLElement, animation: Model.Animation) {\n        this.element = element;\n        this.animation = animation;\n        this.startProperties = animation.from?.properties || Model.Transform.identity.properties;\n        this.endProperties = animation.to?.properties || Model.Transform.identity.properties;\n        this.startTime = Date.now() + ((animation.delay || 0) * 1000);\n        this.previousUpdate = Date.now() + ((animation.delay || 0) * 1000);\n        if (Utility.exists(animation.delay)) {\n            this.renderState(0);\n            setTimeout(this.renderNextFrame.bind(this), ((animation.delay || 0) * 1000))\n        } else {\n            this.renderNextFrame()\n        }\n    }\n\n    private element: HTMLElement | null;\n    private startProperties: Model.TransformProperties;\n    private endProperties: Model.TransformProperties;\n    private animation: Model.Animation;\n\n    private previousUpdate: number\n    private startTime: number\n\n    cancel() {\n        this.element = null;\n    }\n\n    private renderNextFrame() {\n        if (this.element === null || this.element === undefined) { return; }\n        const progress = (this.previousUpdate - this.startTime) / (this.animation.duration * 1000);\n        this.previousUpdate = Date.now();\n        this.renderState(progress);\n        if (progress < 1) { \n            requestAnimationFrame(this.renderNextFrame.bind(this)); \n        } else {\n            this.element = null;\n            if (this.animation.completion) { this.animation.completion(); }\n        }\n    }\n\n    private renderState(progress: number) {\n        this.renderOpacity(progress);\n        this.renderTransform(progress);\n        this.renderFilter(progress);\n    }\n\n    private renderOpacity(progress: number) {\n        const value = this.interpolate({ \n            from: this.startProperties.opacity, \n            to: this.endProperties.opacity, \n            progress: progress, \n            fallback: 1 \n        })\n        if (Utility.isVoid(value) || this.element === null || this.element === undefined) { return; }\n        this.element.style.opacity = value?.toFixed(4) || ``;\n    }\n\n    private renderFilter(progress: number) {\n        const value = this.interpolate({ \n            from: this.startProperties.blur, \n            to: this.endProperties.blur, \n            progress: progress, \n            fallback: 0\n        });\n        if (this.element === null || this.element === undefined) { return; }\n        if (value === undefined || value === null) { return; }\n        this.element.style.filter = `blur(${value.toFixed(4)}vmin)`;\n    }\n\n    private renderTransform(progress: number) {\n        if (this.element === null || this.element === undefined) { return; }\n        const scale = this.getScale(progress);\n        const rotation = this.getRotation(progress);\n        const translation = this.getTranslation(progress);\n        let translations: string[] = []\n        if (scale !== null) { translations.push(`scale(${scale.toFixed(4)})`); }\n        if (rotation !== null) { translations.push(`rotate(${rotation.toFixed(4)}deg)`); }\n        if (translation !== null) { translations.push(`translate3d(${translation.x.toFixed(4)}px, ${translation.y.toFixed(4)}px, 0px)`); }\n        const transform = translations.join(\" \");\n        this.element.style.transform = transform;\n    }\n\n    private getScale(progress: number): number | null {\n        return this.interpolate({ from: this.startProperties.scale, to: this.endProperties.scale, progress: progress, fallback: 1 })\n    }\n\n    private getRotation(progress: number): number | null {\n        return this.interpolate({ from: this.startProperties.rotation, to: this.endProperties.rotation, progress: progress, fallback: 0 })\n    }\n\n    private getTranslation(progress: number): { x: number, y: number } | null {\n        const x = this.interpolate({ from: this.startProperties.translation?.x, to: this.endProperties.translation?.x, progress: progress, fallback: 0 })\n        const y = this.interpolate({ from: this.startProperties.translation?.y, to: this.endProperties.translation?.y, progress: progress, fallback: 0 })\n        if (x === null && y === null) { return null; }\n        return { \n            x: Utility.unwrap<number>({ optional: x, fallback: 0 }),\n            y: Utility.unwrap<number>({ optional: y, fallback: 0 })\n        }\n    }\n\n    private interpolate(args: {from?: number, to?: number, progress: number, fallback?: number }): number | null {\n        if (Utility.isVoid(args.from) && Utility.isVoid(args.to)) { return null; }\n        const start = Utility.unwrap({ optional: args.from, fallback: Utility.unwrap({ optional: args.fallback, fallback: 0 }) })\n        const end = Utility.unwrap({ optional: args.to, fallback: Utility.unwrap({ optional: args.fallback, fallback: 0 }) })\n        const progress = this.animation.curve?.value(args.progress) || args.progress;\n        const value = ((1 - progress) * start) + (progress * end);\n        return value;\n    }\n}\n\nexport default Animator","export function exists(object: any): boolean {\n    if (object === null || object === undefined) {\n        return false;\n    } else {\n        return true;\n    }\n}\n\nexport function isVoid(object: any): boolean {\n    return exists(object) === false;\n}\n\nexport function unwrap<Type>(args: { optional?: Type | null, fallback: Type }): Type {\n    if (isVoid(args.optional)) {\n        return args.fallback;\n    } else {\n        return args.optional as Type\n    }\n}\n\nexport function when<Type>(args: { object: any, is: Type, do: (object: Type) => void }): void {\n    const castObject = args.object as Type;\n    if (castObject === null || castObject === undefined) { return; }\n    args.do(castObject);\n}","import React from 'react';\nimport './Logo.scss';\nimport * as Utility from '../../utility/module';\nimport * as Models from '../../models/module';\n\ntype Props = { \n  title?: string\n  subtitle?: string\n}\nexport class Logo extends React.Component<Props> {\n\n  title: React.RefObject<HTMLParagraphElement> = React.createRef();\n  subtitle: React.RefObject<HTMLParagraphElement> = React.createRef();\n\n  render() {\n    return (\n      <>\n        <div className=\"logo\">\n          <p className=\"logo-title\" ref={this.title}>{this.fallbackIfNull(this.props.title, \"Dordrecht\")}</p>\n          <p className=\"logo-subtitle\" ref={this.subtitle}>{this.fallbackIfNull(this.props.subtitle, \"door de jaren heen\")}</p>\n        </div>\n      </>\n    );\n  }\n\n  fallbackIfNull(value?: string, fallback?: string) {\n      if (!!value) { return value; }\n      return fallback;\n  }\n\n  prepareForAnimation() {\n    const title = this.title?.current;\n    if (title !== null && title !== undefined) { title.style.opacity = `0`; }\n    const subtitle = this.subtitle?.current;\n    if (subtitle !== null && subtitle !== undefined) { subtitle.style.opacity = `0`; }\n  }\n\n  animateIn(args?: { delay?: number }) {\n    Utility.Animator.animate(this.title.current, { \n      from: Models.Transform.identity\n        .opacity({ amount: 0 })\n        .rotated({ amount: 10 })\n        .blurred({ amount: 10 })\n        .scaled({ amount: 0.95 })\n        .translated({ x: 300 }),\n        delay: args?.delay,\n      duration: 3,\n      curve: Models.AnimationCurve.spring()\n    });\n    Utility.Animator.animate(this.subtitle.current, { \n      from: Models.Transform.identity\n        .opacity({ amount: 0 })\n        .rotated({ amount: -10 })\n        .blurred({ amount: 10 })\n        .scaled({ amount: 0.95 })\n        .translated({ x: -200 }),\n      delay: (args?.delay || 0) + 0.4,\n      duration: 3,\n      curve: Models.AnimationCurve.spring()\n    });\n  }\n}\n\nexport default Logo;\n","import React from 'react';\nimport './ParallaxPage.css';\nimport { setInterval } from 'timers';\nimport * as Utility from '../../utility/module';\nimport * as UI from '../module';\nimport * as Models from '../../models/module';\n\ntype Props = { \n  image?: string\n  video?: string\n  blurBackground?: boolean\n  blurContent?: boolean\n  loadingColor?: string\n  focalDim?: number\n  animateEntry?: boolean\n  loopVideo?: boolean\n  backgroundXOffset?: number\n  onDidLoadBackground?: (element: UI.ParallaxPage) => void\n}\n\nenum VisibilityLevel {\n  notVisible,\n  singlePixel,\n  barely,\n}\n\nexport class ParallaxPage extends React.Component<Props> {\n\n  private page: React.RefObject<HTMLDivElement> = React.createRef();\n  private backgroundContainer: React.RefObject<HTMLDivElement> = React.createRef();\n  private backgroundEntryContainer: React.RefObject<HTMLDivElement> = React.createRef();\n  private backgroundImage: React.RefObject<HTMLDivElement> = React.createRef();\n  private dim: React.RefObject<HTMLDivElement> = React.createRef();\n  private content: React.RefObject<HTMLDivElement> = React.createRef();\n  private player: React.RefObject<UI.Player> = React.createRef();\n\n  private backgroundBlurRadius: number = 69;\n  private contentBlurRadius: number = 69;\n  private contentOpacity: number = 69;\n  private dimOpacity: number = 69;\n\n  private focalArea: number = 0.1;\n  private backgroundBlurIntensity: number = 1;\n  private contentBlurIntensity: number = 1;\n  private focalTransitionSize: number = 0.5;\n  private focalDim: number = 0.3;\n  private doParallax: boolean = true;\n  private parallaxIntensity: number = 0.5;\n  private parallaxOffset: Utility.InertialNumber = new Utility.InertialNumber({ acceleration: 4, inertia: 0.7 });\n  \n  private visibilityLevel: VisibilityLevel = VisibilityLevel.notVisible;\n  private get blurContent(): boolean {\n    return this.props.blurContent === true;\n  }\n\n  private focusUpdateIntervalMs: number = 1000 / 24\n\n  get autoplay(): boolean {\n    if (this.props.loopVideo !== undefined && this.props.loopVideo !== null) {\n      return this.props.loopVideo;\n    } else {\n      return true;\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"parallax-page\" ref={this.page}>\n        <div className=\"parallax-page-background-container-entry\" ref={this.backgroundEntryContainer}>\n          <div className='parallax-page-background-container' ref={this.backgroundContainer} style={{backgroundColor: this.props.loadingColor || \"#333333\"}}>\n            <div className=\"parallax-page-background-image\" aria-hidden=\"true\" ref={this.backgroundImage} />\n            {this.props.video && (<UI.Player \n              ref={this.player}\n              video={`${this.props.video}`} \n              loopVideo={this.props.loopVideo} \n              autoplay={this.autoplay}\n              onEnded={this.onVideoEnded.bind(this)}\n              xOffset={this.props.backgroundXOffset} />)}\n            </div>\n          </div>\n        <div className=\"parallax-page-background-dim\" ref={this.dim}/>\n        <div className=\"parallax-page-content-container\" ref={this.content}>\n          {this.props.children}\n        </div>\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    if (this.props.focalDim !== undefined) { this.focalDim = this.props.focalDim; }\n    this.doParallax = !!this.page.current?.offsetParent;\n    window.addEventListener(\"scroll\", this.checkIfOnScreen.bind(this));\n    this.checkIfOnScreen();\n    if (this.doParallax === true) { \n      setInterval(this.updateFocus.bind(this), this.focusUpdateIntervalMs);\n      window.addEventListener(\"scroll\", this.updateParallax.bind(this));\n      this.updateParallax();\n    }\n    this.loadBackgroundImage(this.props.image);\n  }\n\n  private videoEndAnimation: Utility.Animator | null = null;\n  private onVideoEnded() {\n    this.videoEndAnimation = Utility.Animator.animate(this.backgroundEntryContainer.current, {\n      to: Models.Transform.identity\n        .opacity({ amount: 0.8 })\n        .scaled({ amount: 1.1 })\n        .blurred({ amount: 1 }),\n      duration: 4,\n      curve: Models.AnimationCurve.spring()\n    });\n  }\n\n  private onVideoWillRewind() {\n    this.videoEndAnimation?.cancel();\n    const container = this.backgroundEntryContainer.current;\n    if (container === undefined || container === null) { return; }\n    container.style.opacity = `1`;\n    container.style.filter = ``;\n    container.style.transform = ``;\n  }\n\n  private checkIfOnScreen() {\n    if (this.isInViewport(0.8)) {\n      this.handleVisibilityLevel(VisibilityLevel.barely);\n    } else if (this.isInViewport(0.99)) {\n      this.handleVisibilityLevel(VisibilityLevel.singlePixel);\n    } else {\n      this.handleVisibilityLevel(VisibilityLevel.notVisible);\n    }\n  }\n\n  private handleVisibilityLevel(visibilityLevel: VisibilityLevel) {\n    if (this.visibilityLevel === visibilityLevel) { return; }\n    const previousVisibilityLevel = this.visibilityLevel;\n    this.visibilityLevel = visibilityLevel;\n    const player = this.player.current;\n    if (player !== null && player !== undefined && this.autoplay === false) {\n      switch (this.visibilityLevel) {\n        case VisibilityLevel.notVisible:\n          player.stop(); break;\n        case VisibilityLevel.singlePixel:\n          if (previousVisibilityLevel === VisibilityLevel.barely) { return; }\n          this.onVideoWillRewind();\n          player.rewind(); break;\n        case VisibilityLevel.barely:\n          player.play();\n      }\n    }\n  }\n\n  private loadBackgroundImage(url?: string) {\n    if (url === undefined || url === null) { return; }\n    const imageUrl = `./images/${this.props.image}`;\n    let preloaderImg: HTMLImageElement | null = document.createElement(\"img\");\n    preloaderImg.style.opacity = `0`;\n    preloaderImg.src = imageUrl;\n\n    const context = this\n    preloaderImg.addEventListener('load', (event) => {\n      const backgroundImage = context.backgroundImage.current;\n      if (backgroundImage === undefined || backgroundImage === null) { return; }\n      backgroundImage.style.backgroundImage = `url(\"${imageUrl}\")`;\n      const rect = this.page.current?.getBoundingClientRect();\n      const backgroundXOffset = this.props.backgroundXOffset;\n      if (preloaderImg !== null && rect !== null && rect !== undefined && backgroundXOffset !== null && backgroundXOffset !== undefined) {\n        let parentAspect = rect.width / rect.height;\n        let imageAspect = preloaderImg.naturalWidth / preloaderImg.naturalHeight;\n        const overshoot = (imageAspect / parentAspect) - 1;\n        backgroundImage.style.width = `${(imageAspect * 100).toFixed(0)}vh`\n        backgroundImage.style.transform = `translate3d(${overshoot * backgroundXOffset * 50}vw, 0vw, 0vw)`;\n      }\n      preloaderImg = null;\n      const container = context.backgroundEntryContainer.current;\n      if (context.props.animateEntry || false) {\n        if (container === undefined || container === null) { return; }\n        container.style.opacity = '0';\n        setTimeout(function() { \n          Utility.Animator.animate(container, {\n            from: Models.Transform.identity\n              .opacity({ amount: 0 })\n              .rotated({ amount: 10 })\n              .blurred({ amount: 2 })\n              .scaled({ amount: 1.5 }),\n            duration: 7,\n            curve: Models.AnimationCurve.easeOut\n          });\n        }, 200);\n      }\n      if (context.props.onDidLoadBackground !== null && context.props.onDidLoadBackground !== undefined) {\n        context.props.onDidLoadBackground(context);\n      }\n    });\n  }\n\n  private getOffsetInViewPort(): number {\n    const page = this.page.current as HTMLElement;\n    if (page === undefined) { return 0; }\n    const rect: DOMRect = page.getBoundingClientRect();\n    return this.clamped(rect.y / rect.height, { min: -1, max: 1 });\n  }\n\n  private updateParallax() {\n    if (this.isInViewport(1.2) === false || this.doParallax === false) { return; }\n    const offset = this.getOffsetInViewPort();\n    this.updateParallaxOffset(offset);\n  }\n\n  private updateFocus(): void {\n    this.adjustPerformance();\n    if (this.isInViewport(1.2) === false) { return; }\n    const offset = this.getOffsetInViewPort();\n    const absOffset: number = Math.max(0, Math.abs(offset) - this.focalArea);\n    const contentOpacity = Math.max(0, 1 - (absOffset * (1 / this.focalTransitionSize)));\n    this.updateContentOpacity(contentOpacity)\n    this.updateDimValue(contentOpacity);\n    if (contentOpacity !== 0) {\n      this.updateContentBlurRadius(absOffset);\n    }\n    this.updateBackgroundBlurRadius(absOffset);\n  }\n\n  private updateContentBlurRadius(offset: number) {\n    const content = this.content.current as HTMLElement;\n    if (content === undefined || this.blurContent !== true) { return; }\n    const contentBlurRadius = offset * 2 * this.contentBlurIntensity;\n    if (Math.abs(contentBlurRadius - this.contentBlurRadius) < 0.1) { return; }\n    this.contentBlurRadius = contentBlurRadius;\n    requestAnimationFrame(function() {\n      if (Math.abs(contentBlurRadius) < 0.1) {\n        content.style.filter = ``;\n      } else {\n        content.style.filter = `blur(${contentBlurRadius}vmax)`;\n      }\n    });\n  }\n\n  private updateBackgroundBlurRadius(offset: number) {\n    let background = this.backgroundContainer.current as HTMLElement;\n    if (background === undefined || this.props.blurBackground !== true) { return; }\n    const backgroundBlurRadius = (1 - Math.min(1, offset * (1 / this.focalTransitionSize))) * 0.3 * this.backgroundBlurIntensity;\n    if (Math.abs(backgroundBlurRadius - this.backgroundBlurRadius) < 0.1) { return; }\n    this.backgroundBlurRadius = backgroundBlurRadius;\n    requestAnimationFrame(function() {\n      if (Math.abs(backgroundBlurRadius) < 0.1) {\n        background.style.filter = ``;\n      } else {\n        background.style.filter = `blur(${backgroundBlurRadius}vmax)`;\n      }\n    })\n  }\n\n  private updateDimValue(value: number) {\n    const dim = this.dim.current as HTMLElement;\n    if (dim === undefined) { return; }\n    const dimValue = value * this.focalDim;\n    if (dimValue === this.dimOpacity) { return; }\n    this.dimOpacity = dimValue;\n    dim.style.opacity = `${dimValue}`\n  }\n\n  private updateContentOpacity(value: number) {\n    const content = this.content.current as HTMLElement;\n    if (content === undefined) { return; }\n    const contentOpacity = parseFloat(value.toFixed(2));\n    if (contentOpacity === this.contentOpacity) { return; }\n    content.style.opacity = `${contentOpacity}`\n  }\n\n  private updateParallaxOffset(offset: number) {\n    const background = this.backgroundContainer.current as HTMLElement;\n    if (background === undefined) { return; }\n    const parallaxIntensity: number = window.innerHeight * this.parallaxIntensity;\n    const targetOffset = offset * -parallaxIntensity;\n    let parallaxOffset: number;\n    if (Utility.ClientInfo.isMobile) {\n      this.parallaxOffset.target = targetOffset;\n      this.parallaxOffset.update(0.02);\n      parallaxOffset = this.parallaxOffset.current;\n    } else {\n      parallaxOffset = targetOffset;\n    }\n    background.style.transform = `translate3d(0px, ${parallaxOffset}px, 0px)`\n  }\n\n  private isInViewport(sizeMultiplier: number): boolean {\n    const rect = this.page.current?.getBoundingClientRect();\n    if (rect) {\n      return rect.y >= -(rect.height * sizeMultiplier) && rect.y <= (rect.height * sizeMultiplier);\n    } else { \n      return false;\n    }\n  }\n\n  private clamped(value: number, range: { min: number, max: number }): number {\n    return Math.max(range.min, Math.min(range.max, value));\n  }\n\n  private enableSlowMode: boolean = false;\n  private consecutiveModeSwitchUpdates: number = 0;\n  private previousUpdate: number = 0;\n  private adjustPerformance() {\n    let date = Date.now();\n    let updateRate = date - this.previousUpdate;\n    this.previousUpdate = date;\n    let actualToDesiredRatio = updateRate / this.focusUpdateIntervalMs;\n    if (this.enableSlowMode === false && actualToDesiredRatio > 1.3) { \n      this.consecutiveModeSwitchUpdates += 1;\n    } else if (this.enableSlowMode === true && actualToDesiredRatio < 1.1) {\n      this.consecutiveModeSwitchUpdates += 1;\n    } else {\n      this.consecutiveModeSwitchUpdates = Math.max(0, this.consecutiveModeSwitchUpdates - 1);\n    }\n    if (this.consecutiveModeSwitchUpdates > 10) {\n      this.switchSlowMode();\n    }\n  }\n  \n  private switchSlowMode() {\n    this.enableSlowMode = !this.enableSlowMode;\n    this.consecutiveModeSwitchUpdates = 0;\n    if (this.enableSlowMode) {\n      let background = this.backgroundContainer.current as HTMLElement;\n      if (background === undefined || background === null) { return; }\n      background.style.transform = ``;\n      this.doParallax = false\n    } else {\n      this.doParallax = true;\n    }\n  }\n}\n\nexport default ParallaxPage;","import React from 'react';\nimport './Spacer.css';\n\ntype Props = { \n  size: string\n}\n\nexport class Spacer extends React.Component<Props> {\n\n  render() {\n    return (\n      <>\n        <div className=\"page\" style={{ height: this.props.size, width: this.props.size }}/>\n      </>\n    );\n  }\n}\n\nexport default Spacer;\n","import React from 'react';\nimport './Button.scss';\nimport * as Utility from '../../utility/module';\nimport * as Models from '../../models/module';\n\ntype Props = {\n  title: string\n  action: string | Function\n  center?: boolean\n}\n\nexport class Button extends React.Component<Props> {\n\n  div: React.RefObject<HTMLDivElement> = React.createRef();\n\n  render() {\n    return (\n      <>\n      <div ref={this.div} className=\"container\" style={{justifyContent: this.justifyContent()}}>\n        <button className='button' onClick={this.didTapCallToAction.bind(this)}>{this.props.title}</button>\n      </div>\n      </>\n    );\n  }\n\n  didTapCallToAction() {\n    const url = this.props.action as string\n    if (url) { window.open(url, \"_blank\"); return; }\n    \n    const action = this.props.action as Function\n    if (action) { return action(); }\n  }\n\n  justifyContent(): string {\n    if (this.props.center === true) {\n      return 'center'\n    } else {\n      return 'start'\n    }\n  }\n\n  prepareForAnimation() {\n    const div = this.div?.current;\n    if (div !== null && div !== undefined) { div.style.opacity = `0`; }\n  }\n\n  animateIn(args?: { delay?: number }) {\n    Utility.Animator.animate(this.div.current, { \n      from: Models.Transform.identity\n        .opacity({ amount: 0 })\n        .scaled({ amount: 0.95 })\n        .translated({ y: 10 }),\n        delay: args?.delay,\n      duration: 6,\n      curve: Models.AnimationCurve.spring()\n    });\n  }\n}\n\nexport default Button;\n","import React from 'react';\nimport './SocialMediaButton.css';\nimport * as Utility from '../../utility/module';\nimport * as Models from '../../models/module';\nimport * as UI from '../module';\n\ntype Props = {\n  title: string\n  icon: string\n  iconAlt: string\n  action: string | Function\n}\n\nexport class SocialMediaButton extends React.Component<Props> implements UI.Animatable {\n\n  button: React.RefObject<HTMLButtonElement> = React.createRef();\n  img: React.RefObject<HTMLImageElement> = React.createRef();\n\n  render() {\n    return (\n      <button className='socialmediabutton-button' ref={this.button} onClick={this.didTapCallToAction.bind(this)}>\n        <img className=\"socialmediabutton-icon\" ref={this.img} alt={this.props.iconAlt} src={`./icons/${this.props.icon}`} />\n        {this.props.title}\n      </button>\n    );\n  }\n\n  didTapCallToAction() {\n    const url = this.props.action as string\n    if (url) { window.open(url, \"_blank\"); return; }\n    \n    const action = this.props.action as Function\n    if (action) { return action(); }\n  }\n\n  prepareForAnimation() {\n    const button = this.button?.current;\n    if (button !== null && button !== undefined) { button.style.opacity = `0`; }\n    const img = this.img?.current;\n    if (img !== null && img !== undefined) { img.style.opacity = `0`; }\n  }\n\n  animateIn(args?: { delay?: number }) {\n    Utility.Animator.animate(this.button.current, {\n      from: Models.Transform.identity\n        .opacity({ amount: 0 })\n        .blurred({ amount: 5 })\n        .translated({ x: -130 }),\n      duration: 2,\n      delay: args?.delay,\n      curve: Models.AnimationCurve.spring()\n    })\n    Utility.Animator.animate(this.img.current, {\n      from: Models.Transform.identity\n        .opacity({ amount: 0 })\n        .translated({ x: -10 })\n        .rotated({ amount: -15 }),\n      duration: 1.5,\n      delay: args?.delay,\n      curve: Models.AnimationCurve.spring()\n    })\n  }\n}\n\nexport default SocialMediaButton;\n","import React from 'react';\nimport './DownArrow.scss';\nimport * as Utility from '../../utility/module';\nimport * as Models from '../../models/module';\n\ntype Props = {\n  action?: Function\n}\n\nexport class DownArrow extends React.Component<Props> {\n\n  button: React.RefObject<HTMLButtonElement> = React.createRef();\n  img: React.RefObject<HTMLImageElement> = React.createRef();\n  container: React.RefObject<HTMLDivElement> = React.createRef();\n\n  render() {\n    return (<>\n      <button ref={this.button} className=\"down-arrow\" onClick={this.didTap.bind(this)} aria-hidden=\"true\" style={{cursor: (this.props.action === undefined) ? `` : `pointer`}}>\n        <div className=\"down-arrow-container\" ref={this.container}>\n          <img ref={this.img} className=\"down-arrow-image\" src=\"./icons/arrow-down.svg\" alt=\"Pijl naar beneden: indicatie dat hieronder nog meer mogelijk is\" />\n        </div>\n      </button>\n    </>)\n  }\n\n  didTap() {\n    if (this.props.action === undefined) { return; }\n    this.props.action()\n  }\n\n  prepareForAnimation() {\n    const button = this.button?.current;\n    if (button !== null && button !== undefined) { button.style.opacity = `0`; }\n  }\n\n  animateIn(args?: { delay?: number }) {\n    const container = this.container.current;\n    Utility.Animator.animate(this.button.current, { \n      from: Models.Transform.identity\n        .opacity({ amount: 0 })\n        .blurred({ amount: 5 })\n        .translated({ y: -150 }),\n        delay: args?.delay,\n      duration: 3,\n      curve: Models.AnimationCurve.easeOut,\n      completion: function() { \n        if (container) { container.style.animation = \"float 3s infinite\"; }\n      }\n    });\n  }\n}\n\nexport default DownArrow;","import React from 'react';\nimport './Link.scss';\n\ntype Props = {\n    url: string\n    text: string\n }\n\nexport class Link extends React.Component<Props> {\n\n  render() {\n    return (\n        <a href={this.props.url} rel=\"noreferrer\" target=\"_blank\">{this.props.text}</a>\n    )\n  }\n}\n\nexport default Link;","import React from 'react';\nimport './Header.scss';\n\ntype Props = {\n    text: string\n }\n\nexport class Header extends React.Component<Props> {\n\n  render() {\n    return (\n        <h1>{this.props.text}</h1>\n    )\n  }\n}\n\nexport default Header;","import React from 'react';\nimport './Text.scss';\n\ntype Props = { }\n\nexport class Text extends React.Component<Props> {\n\n  render() {\n    return (\n        <p>{this.props.children}</p>\n    )\n  }\n}\n\nexport default Text;","import React from 'react';\nimport './Player.scss';\nimport * as UI from '../module';\n\ntype Props = { \n    video: string\n    loopVideo?: boolean\n    xOffset?: number\n    autoplay?: boolean\n    onEnded?: () => void\n}\nexport class Player extends React.Component<Props> {\n\n  private container: React.RefObject<UI.FillContainer> = React.createRef()\n  private div: React.RefObject<HTMLDivElement> = React.createRef()\n  private player: React.RefObject<HTMLVideoElement> = React.createRef()\n\n  get loopVideo(): boolean {\n    if (this.props.loopVideo !== undefined && this.props.loopVideo !== null) {\n      return this.props.loopVideo;\n    } else {\n      return true;\n    }\n  }\n\n  get autoplay(): boolean {\n    if (this.props.autoplay !== undefined && this.props.autoplay !== null) {\n      return this.props.autoplay;\n    } else {\n      return true;\n    }\n  }\n\n  render() {\n    return (\n        <UI.FillContainer ref={this.container}>\n          <div className=\"player-container\" ref={this.div}>\n            <video \n              className=\"player-video\" \n              ref={this.player} \n              src={`/video/${this.props.video}`} \n              muted={true} \n              loop={this.loopVideo}\n              autoPlay={this.autoplay}\n              playsInline \n              onPlay={this.onPlay.bind(this)} \n              aria-hidden=\"true\" />\n          </div>\n        </UI.FillContainer>\n    );\n  }\n\n  componentDidMount() {\n    window.addEventListener('resize', this.updatePlayerSize.bind(this));\n    const videoElement = this.player.current;\n    if (videoElement === undefined || videoElement === null) { return; }\n    videoElement.style.opacity = `0`;\n    const onEnded = this.props.onEnded;\n    if (onEnded === null || onEnded === undefined) { return; }\n    videoElement.addEventListener('ended', onEnded);\n  }\n\n  rewind() {\n    const player = this.player.current;\n    if (player === null || player === undefined) { return; }\n    player.currentTime = 0;\n  }\n\n  play() {\n    const player = this.player.current;\n    if (player === null || player === undefined) { return; }\n    const context = this;\n    player.play().then(response => { context.onPlay(); });\n  }\n\n  stop() {\n    const player = this.player.current;\n    if (player === null || player === undefined) { return; }\n    player.pause();\n  }\n\n  private onPlay() {\n    const videoElement = this.player.current;\n    if (videoElement === undefined || videoElement === null) { return; }\n    videoElement.style.opacity = `1`;\n    this.updatePlayerSize()\n  }\n\n  private updatePlayerSize() {\n    const div = this.div.current;\n    if (div === undefined || div === null) { return; }\n    const rect = div.getBoundingClientRect();\n    if (rect === undefined || div === null) { return; }\n    const player = this.player.current;\n    if (player === undefined || player === null) { return; }\n    const videoSize = { width: player.videoWidth, height: player.videoHeight };\n    if (videoSize.width === 0 || videoSize.height === 0) { return; }\n    const playerAspect = videoSize.width / videoSize.height;\n    const parentAspect = rect.width / rect.height;\n    const style = player.style;\n    if (style === undefined || style === null) { return; }\n    if (playerAspect > parentAspect) {\n      style.height = `100%`;\n      if (this.props.xOffset !== null && this.props.xOffset !== undefined) {\n        const overshoot = (playerAspect / parentAspect) - 1;\n        style.transform = `translate3d(${overshoot * this.props.xOffset * 50}vw, 0vw, 0vw)`;\n      }\n    } else {\n      const height = rect.width / playerAspect;\n      style.height = `${((height / rect.height) * 100).toFixed(1)}%`\n    }\n  }\n}\n\nexport default Player;\n","import React from 'react';\nimport './YoutubePlayer.css';\nimport * as Utility from '../../utility/module';\n\ntype Props = {\n  name: string\n  watchId: string\n  aspectRatio?: number\n}\nexport class YoutubePlayer extends React.Component<Props> {\n\n  private get playerId() { return `youtubeplayer-${this.id}-${this.props.watchId}` }\n  private get containerId() { return `youtubeplayercontainer-${this.id}-${this.props.watchId}` }\n\n  private id: string = Utility.UUIDGenerator.uuid;\n  private aspectRatio: number = 16 / 9;\n\n  private videoSize: { width: number, height: number } = { width: 640, height: 480 };\n\n  render() {\n    return (\n      <div className=\"youtubeplayer-container\" id={this.containerId}>\n        <div className=\"youtubeplayer-centercontainer\">\n          <iframe title={this.props.name} className=\"youtubeplayer-iframe\" id={this.playerId} width={`${this.videoSize.width}px`} height={`${this.videoSize.height}px`} src={`https://www.youtube.com/embed/${this.props.watchId}`} allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" />\n        </div>\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    this.aspectRatio = this.props.aspectRatio || this.aspectRatio;\n    window.addEventListener('resize', this.determinePlayerSize.bind(this));\n    this.determinePlayerSize();\n  }\n\n  private determinePlayerSize() {\n    const container = document.getElementById(this.containerId) as HTMLElement;\n    if (container === undefined || container === null) { return; }\n    const rect = container.getBoundingClientRect();\n    if (rect === undefined || rect === null) { return; }\n    const windowAspect = window.innerWidth / window.innerHeight;\n    const width = rect.width / Math.max(1, windowAspect);\n    this.updatePlayerSize({ width: width, height: width / this.aspectRatio })\n  }\n\n  private updatePlayerSize(size: { width: number, height: number }) {\n    if ((size.width !== this.videoSize.width || size.height !== this.videoSize.height) === false) { return; }\n    this.videoSize = size;\n    this.setState({})\n  }\n}\n\nexport default YoutubePlayer;\n","import React from 'react';\nimport './FillContainer.css';\n\ntype Props = { }\n\nexport class FillContainer extends React.Component<Props> {\n\n  render() {\n    return (\n      <div className=\"fill-container\">\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nexport default FillContainer;\n","import React from 'react';\nimport './StickyBar.css';\nimport * as UI from '../module';\n\ntype Props = { }\n\nexport class StickyBar extends React.Component<Props> implements UI.Animatable {\n\n  div: React.RefObject<HTMLDivElement> = React.createRef();\n\n  get animatables(): UI.Animatable[] {\n    return React.Children.toArray(this.props.children)\n        .map(e => e as UI.Animatable)\n        .filter(e => e !== null && e !== undefined)\n  }\n\n  render() {\n    return (\n      <div ref={this.div} className=\"stickybar-container\" >\n        {this.props.children}\n      </div>\n    );\n  }\n\n  prepareForAnimation() {\n    // TODO: Loop through children\n  }\n\n  animateIn(args?: { delay?: number }) {\n      // TODO: Loop through children\n  }\n}\n\nexport default StickyBar;\n","import React from 'react';\nimport './HomeScene.css';\nimport * as UI from '../../components/module';\n\ntype Props = {\n    onDidLoadBackground?: () => void\n}\n\nexport class HomeScene extends React.Component<Props> {\n\n  private blurLogo = (window.innerHeight * window.innerWidth) <= 1000000;\n\n  private logo: React.RefObject<UI.Logo> = React.createRef();\n  private button: React.RefObject<UI.Button> = React.createRef();\n  private fbButton: React.RefObject<UI.SocialMediaButton> = React.createRef();\n\n  render() {\n    return (\n        <UI.ParallaxPage image='home.jpg' video='home.mp4' blurBackground={false} blurContent={this.blurLogo} loadingColor='#000000' focalDim={0} animateEntry={true} onDidLoadBackground={this.didLoadBackground.bind(this)}>\n          <UI.StickyBar>\n            <UI.SocialMediaButton ref={this.fbButton} title=\"Like ons\" icon=\"facebook.png\" iconAlt=\"facebook logo\" action=\"https://www.facebook.com/dordtfilm\" />\n            {/* <UI.SocialMediaButton title=\"#dordtfilm\" icon=\"twitter.png\" iconAlt=\"twitter logo\" action=\"https://www.facebook.com/dordtfilm\" /> */}\n          </UI.StickyBar>\n          <UI.Logo ref={this.logo} />\n          {/* <UI.Spacer size='1vh' />\n          <UI.Button title=\"Like ons op facebook\" action=\"https://www.facebook.com/dordtfilm\" center={true} ref={this.button}/> */}\n        </UI.ParallaxPage>\n    )\n  }\n\n  componentDidMount() {\n    this.logo.current?.prepareForAnimation();\n    this.button.current?.prepareForAnimation();\n    this.fbButton.current?.prepareForAnimation();\n  }\n\n  private didLoadBackground(element: UI.ParallaxPage) {\n    if (this.props.onDidLoadBackground) { this.props.onDidLoadBackground(); }\n    const logo = this.logo.current;\n    logo?.animateIn({ delay: 0.7 });\n    const button = this.button.current;\n    button?.animateIn({ delay: 2.5 });\n    const stickyBar = this.fbButton.current;\n    stickyBar?.animateIn({ delay: 2.3 });\n  }\n}\n\nexport default HomeScene;","import React from 'react';\nimport './Pager.scss';\n\ntype Props = { }\n\nexport class Pager extends React.Component<Props> {\n\n  render() {\n    return (\n      <div className=\"pager\">\n        {React.Children.map(this.props.children, child => { \n          return (\n            <div className=\"pager-element\">{child}</div>\n          )\n        })}\n      </div>\n    )\n  }\n}\n\nexport default Pager;","import React from 'react';\nimport './AboutScene.css';\nimport * as UI from '../../components/module';\n\ntype Props = {\n    \n}\n\nexport class AboutScene extends React.Component<Props> {\n\n  render() {\n    return (\n        <UI.ParallaxPage image='about.jpg' video='boat.mp4' loopVideo={false} loadingColor='#626850' backgroundXOffset={0.4}>\n          <UI.Text>Deze film is met liefdevolle toewijding gemaakt om u de stad te laten ervaren als nooit tevoren. Zie de pracht van de stad en de Dordtse Biesbosch in alle vier de seizoenen en uit allerlei hoeken gefilmd. Bovendien zijn we te land, ter zee en in de lucht.</UI.Text>\n          <UI.Text>\n          Natuurlijk komt u van alles te weten over de geschiedenis van de stad en wat Dordrecht nu zo bijzonder maakt. Vergeet echter die slome, stoffige geschiedenislessen van vroeger; hier houden we het vlot en boeiend, afgewisseld met een paar <del>flauwe</del> uitstekende grapjes.</UI.Text>\n          <UI.Text>Wat maakt de stad zo bijzonder? Wat maakt een Dordtenaar speciaal? Zijn de inwoners trots op hun stad? We praten hierover met Dordtenaren en andere experts. Samen proberen we te ontdekken wat de Dordtse identiteit kenmerkt en komen we tot soms verrassende ontdekkingen over de stad en haar inwoners.</UI.Text>\n        </UI.ParallaxPage>\n    )\n  }\n}\n\nexport default AboutScene;","import React from 'react';\nimport './ExperienceScene.css';\nimport * as UI from '../../components/module';\n\ntype Props = {\n    \n}\n\nexport class ExperienceScene extends React.Component<Props> {\n\n    private blurLogo = (window.innerHeight * window.innerWidth) <= 1000000;\n\n  render() {\n    return (\n        <UI.ParallaxPage image='experience.jpg' video='experience.mp4' loadingColor='#77969D' loopVideo={false}>\n          <UI.Header text=\"De ervaring\" />\n          <UI.Text>We nemen u mee door het prachtige oude stadscentrum, de wijken eromheen en de schitterende natuur die het Dordtse eiland te bieden heeft. Door het gebruik van de meest moderne filmtechnieken zoals drones, bewegende cameras, haarscherpe beelden en surroundgeluid wordt u figuurlijk het beeld ingezogen.</UI.Text>\n          <UI.Text>Deze film moet u absoluut gezien hebben als u zichzelf nog Schapenkop wilt durven noemen, f als u als niet-Dordtenaar meer wilt weten over deze geweldige stad. Ervaar het zelf in <em>Dordrecht door de jaren heen.</em></UI.Text>\n        </UI.ParallaxPage>\n    )\n  }\n}\n\nexport default ExperienceScene;","import React from 'react';\nimport './PeopleScene.css';\nimport * as UI from '../../components/module';\n\ntype Props = {\n    \n}\n\nexport class PeopleScene extends React.Component<Props> {\n\n  render() {\n    return (\n        <UI.ParallaxPage image='people.jpg' video='people.mp4' loopVideo={false} loadingColor='#4E5354'>\n          <UI.Header text=\"Over de film\" />\n          <UI.Text>Onze enthousiaste verteller <UI.Link url=\"https://www.coenkoopmans.nl/\" text=\"Coen Koopmans\" /> neemt u vlot, gepassioneerd en soms met een knipoog mee door de hele geschiedenis. Althans, die van Dordrecht. Deze jongeman laat zich graag informeren door experts. Veel mensen zullen <UI.Link url=\"https://www.jaapbouman.nl/\" text=\"Jaap Bouman\"/> kennen als d stadshistoricus van Dordrecht, hoewel hijzelf die titel weigert. Boswachter <UI.Link url=\"http://www.fotoneut.nl/\" text=\"Jacques van der Neut\" /> geeft een trotse rondleiding door de prachtige natuur van de Dordtse Biesbosch.\n          <UI.Link url=\"http://baskakes.nl/\" text=\"Bas Kakes\" /> verzorgt onder meer de regie, de montage en het camerawerk. <UI.Link url=\"https://www.linkedin.com/in/kevin-van-den-hoek-9302b8145/\" text=\"Kevin van den Hoek\" /> verzorgt de grafische vormgeving en special effects, terug te zien in onder andere het titelontwerp en de poster.\n          </UI.Text>\n        </UI.ParallaxPage>\n    )\n  }\n}\n\nexport default PeopleScene;","import React from 'react';\nimport './PassionScene.css';\nimport * as UI from '../../components/module';\n\ntype Props = {\n    \n}\n\nexport class PassionScene extends React.Component<Props> {\n\n  render() {\n    return (\n    <UI.ParallaxPage image='passion.jpg' video='passion.mp4' loopVideo={false} backgroundXOffset={0.5} loadingColor='#A08569'>\n        <UI.Header text=\"Passie\" />\n        <UI.Text>Het script is gebaseerd op de kennis en liefde voor de stad van scriptadviseur Arend van der Perk. Hij was de opa van zowel Bas Kakes als Coen Koopmans. Door de jaren heen heeft Arend zijn passie voor zijn stad veelvuldig en bewonderenswaardig intens laten blijken. Zo raadt hij bijvoorbeeld af om te reizen naar verre landen, want de Biesbosch is het mooiste dat er is.</UI.Text> \n        <UI.Text>Eind 2018 besloten Kakes en Koopmans dat ze hun volgende film op die passie zouden baseren. De makers hebben al jaren ervaring in het produceren van films en maken met deze titel hun debuut in het genre documentaire.</UI.Text>\n    </UI.ParallaxPage>\n    )\n  }\n}\n\nexport default PassionScene;\n\n\n\n","import React from 'react';\nimport './ContactScene.css';\nimport * as UI from '../../components/module';\n\ntype Props = {\n    \n}\n\nexport class ContactScene extends React.Component<Props> {\n\n  render() {\n    return (\n        <UI.ParallaxPage image='contact.jpg' video='contact.mp4' blurBackground={false}>\n          <UI.Header text=\"Contact\" />\n          <UI.Text>Wilt u contact opnemen met de makers?</UI.Text>\n          <UI.Spacer size=\"5vh\" />\n          <UI.Button title=\"Mail ons\" action=\"mailto:info@dordtfilm.nl\"/>\n        </UI.ParallaxPage>\n    )\n  }\n}\n\nexport default ContactScene;","import React from 'react';\nimport './App.css';\nimport * as UI from './components/module';\nimport * as Scenes from './scenes/module';\nimport * as Utility from './utility/module';\n\ntype Props = { }\n\nexport class App extends React.Component<Props> {\n\n  private downArrow: React.RefObject<UI.DownArrow> = React.createRef();\n\n  render() {\n    return (\n      <>\n        <Scenes.HomeScene onDidLoadBackground={this.onDidLoadHome.bind(this)} />\n        <Scenes.AboutScene />\n        {/* <Scenes.TrailerScene /> */}\n        <Scenes.ExperienceScene />\n        <Scenes.PeopleScene />\n        <Scenes.PassionScene />\n        <Scenes.ContactScene />\n        <UI.DownArrow ref={this.downArrow} />\n      </>\n    );\n  }\n\n  componentDidMount() {\n    this.setupSafariResizeFix();\n    this.setupDownArrowAlphaUpdates();\n    this.downArrow.current?.prepareForAnimation();\n  }\n\n  onDidLoadHome() {\n    this.downArrow.current?.animateIn({ delay: 3 });\n  }\n\n  setupDownArrowAlphaUpdates() {\n    const context = this;\n    document.addEventListener(\"scroll\", function() {\n      const alpha = Math.min(1, Math.max(0, 1 - (window.scrollY / (window.innerHeight * 0.1))));\n      const downArrow = context.downArrow.current?.img.current;\n      if (downArrow === undefined || downArrow === null) { return; }\n      downArrow.style.opacity = `${alpha}`\n    });\n  }\n\n  refreshPage() {\n    window.location.reload()\n  }\n\n  setupSafariResizeFix() {\n    if (Utility.ClientInfo.isSafari === false || Utility.ClientInfo.isMobile === true) { return; }\n    window.onresize = this.debounce(this.refreshPage, 100).bind(this);\n  }\n\n  private debounceTimeout: NodeJS.Timeout | null = null;\n  debounce(func: Function, delay: number) {\n    let context = this;\n    return function() {\n      var later = function() {\n        context.debounceTimeout = null;\n        func.apply(context, arguments);\n      };\n      if (context.debounceTimeout !== null ) { clearTimeout(context.debounceTimeout); }\n      context.debounceTimeout = setTimeout(later, delay);\n    };\n  };\n}\n\nexport default App;\n\n","import React from 'react';\nimport './TrailerScene.css';\nimport * as UI from '../../components/module';\n\ntype Props = {\n    \n}\n\nexport class TrailerScene extends React.Component<Props> {\n\n  render() {\n    return (\n        <UI.ParallaxPage image='trailer.jpg' blurContent={false}  focalDim={0.5}>\n            <UI.Header text=\"Bekijk de trailer\" />\n            <UI.YoutubePlayer name=\"Trailer\" watchId=\"MrYbBcvdzIY\" aspectRatio={4/3} />\n        </UI.ParallaxPage>\n    )\n  }\n}\n\nexport default TrailerScene;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}